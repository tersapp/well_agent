tools:
  - name: analyze_crossplot
    entry_point: crossplot:analyze_crossplot
    description: 高级交会图分析，支持自定义X/Y轴表达式（如速度转换）、数据过滤和颜色映射。输出 ECharts 兼容数据。
    trigger_keywords:
      - 交会
      - crossplot
      - 散点图
      - Vp vs Vs
      - 速度交会
      - 属性分析
      - 图版
    use_cases: 当用户需要自定义坐标轴（如Vp/Vs）、过滤特定深度或属性、或者生成交互式图表时使用。
    parameters:
      type: object
      properties:
        x_expression:
          type: string
          description: "X轴数据的计算表达式。**重要**: 如果用户说 '速度'/'Velocity'，必须直接传 'Velocity' (不要自己映射为DT)；如果说 '阻抗'，传 'Impedance'。让工具内部处理物理转换。"
        y_expression:
          type: string
          description: "Y轴数据的计算表达式。同上，优先使用物理含义词汇 (如 'Density', 'Porosity', 'Vp/Vs')."
        color_expression:
          type: string
          description: "用于着色的曲线或表达式 (如 'GR', 'Vsh')"
        filter_query:
          type: string
          description: "数据过滤条件 (Pandas Query 语法), 例如 'GR < 60 & DEPTH >= 2000'"
        depth_start:
          type: number
          description: "分析起始深度 (可选, 优先使用 filter_query)"
        depth_end:
          type: number
          description: "分析结束深度 (可选)"
        x_min:
          type: number
          description: "X轴最小值 (可选)"
        x_max:
          type: number
          description: "X轴最大值 (可选)"
        y_min:
          type: number
          description: "Y轴最小值 (可选)"
        y_max:
          type: number
          description: "Y轴最大值 (可选)"
        c_min:
          type: number
          description: "色标最小值 (可选)"
        c_max:
          type: number
          description: "色标最大值 (可选)"
        x_inverse:
          type: boolean
          description: "是否反转X轴 (如声波时差通常反转)"
        y_inverse:
          type: boolean
          description: "是否反转Y轴 (如深度轴)"
        presets:
          type: string
          enum: [ND, MN, PICKETT, BUCKLES]
          description: "预设图版类型 (可选): ND=中子密度, MN=M-N图, PICKETT=皮克特图. 如果指定预设，可省略 x/y_expression"

  - name: calculate_vsh
    entry_point: quantitative:calculate_vsh
    description: 泥质含量(Vsh)定量计算，支持多种校正方法
    trigger_keywords:
      - 泥质含量
      - Vsh
      - 砂泥比
      - shale volume
      - 泥质体积
      - 砂岩纯净度
    use_cases: 当需要定量计算泥质体积分数、判断砂岩纯净度时使用
    parameters:
      type: object
      properties:
        gr_curve:
          type: string
          description: "自然伽马曲线名称，默认'GR'"
        method:
          type: string
          enum: [linear, larionov_tertiary, larionov_old, steiber, clavier]
          description: "计算方法: linear=线性, larionov_tertiary=拉廖诺夫新地层(默认), larionov_old=拉廖诺夫老地层, steiber=斯蒂伯, clavier=克拉维尔"
        gr_min:
          type: number
          description: "纯砂岩GR基线，默认自动计算P5"
        gr_max:
          type: number
          description: "纯泥岩GR基线，默认自动计算P95"

  - name: identify_curve_shape
    entry_point: morphology:identify_curve_shape
    description: 曲线形态识别（钟型Bell/漏斗型Funnel/箱型Box），用于沉积相分析
    trigger_keywords:
      - 曲线形态
      - bell
      - funnel
      - box
      - 沉积相
      - 形态
      - 钟型
      - 漏斗
      - 箱型
      - 正旋回
      - 反旋回
    use_cases: 分析GR/SP曲线形态指示沉积环境（三角洲前缘、河道充填等）时使用
    parameters:
      type: object
      properties:
        curve_name:
          type: string
          description: "要分析的曲线名称，默认'GR'"
        depth_start:
          type: number
          description: "分析起始深度"
        depth_end:
          type: number
          description: "分析结束深度"
        window_size:
          type: integer
          description: "平滑窗口大小，默认5"
